{"category":"Battleship","color":"#333333","blocks":["__Battleship_Initialize_Player1","__Battleship_Blynk_setup_Player1","__Battleship_Guess_Player1","__Battleship_Initialize_Player2","__Battleship_Blynk_setup_Player2","__Battleship_Guess_Player2"],"jscode":"// Block __Battleship_Initialize_Player1\nvar __Battleship_Initialize_Player1_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Initialize_Player1\"\n        }\n    ],\n    \"colour\": \"#333333\"\n};\n\nwindow['Blockly'].Blocks['__Battleship_Initialize_Player1'] = {\n    init: function() {\n        this.jsonInit(__Battleship_Initialize_Player1_json);\n    }\n};\n\nwindow['Blockly'].Python['__Battleship_Initialize_Player1'] = function(block) {\n        return `# Player 1 Code\n\nfrom m5stack import *\nfrom m5stack_ui import *\nfrom uiflow import *\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\nimport M5BlynkLib\nfrom BlynkTimer import BlynkTimer\nimport network\nimport machine\n\nWIFI_SSID = 'ND-guest'\nWIFI_PASS = ''\n\nBLYNK_AUTH = '5iI58SeUW5v5Ozlj5PqFwLJWccM1mmo3' # Katie's player 1\n# BLYNK_AUTH = '9AiTTwD3YOoyakAF-rRt4JSGxzVm2Wgg' # Katie's player 2\n# BLYNK_AUTH = 'L1_427mM05GzJ-M4Hl_npXIT6iSJ59nT' # Brockmans\n#BLYNK_AUTH = '8imWFTlYhi8uGW1QbrJbRvTf5kQ973MU' # Alvins\n\n\nwifi = network.WLAN(network.STA_IF)\nif not wifi.isconnected():\n    lcd.println(\"Connecting to WiFi...\")\n    wifi.active(True)\n    wifi.connect(WIFI_SSID, WIFI_PASS)\n    while not wifi.isconnected():\n        pass\n\nlcd.print('IP:')\nlcd.println(wifi.ifconfig()[0])\n\n# define variables\nuptime = 0\nplayer1 = ''\nplayer2 = ''\nblynk = M5BlynkLib.Blynk(BLYNK_AUTH)\nplaying = True` + \"\\n\";\n};\n\n// Block __Battleship_Blynk_setup_Player1\nvar __Battleship_Blynk_setup_Player1_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Blynk_setup_Player1\"\n        }\n    ],\n    \"colour\": \"#333333\"\n};\n\nwindow['Blockly'].Blocks['__Battleship_Blynk_setup_Player1'] = {\n    init: function() {\n        this.jsonInit(__Battleship_Blynk_setup_Player1_json);\n    }\n};\n\nwindow['Blockly'].Python['__Battleship_Blynk_setup_Player1'] = function(block) {\n        return `\n# handling states\n@blynk.on(\"connected\")\ndef blynk_connected(ping):\n    pass\n \n@blynk.on(\"disconnected\")\ndef blynk_disconnected():\n    lcd.println('Blynk disconnected')\n\n\n# Make sure blynk channels are all reset\nblynk.virtual_write(0, \"NA\")\nblynk.virtual_write(1, \"NA\")\nblynk.virtual_write(2, \"NA\")\nblynk.virtual_write(3, \"NA\")\n\n# Initialize blynk channel variables\nplayer1guess = \"NA\"\nplayer2response = \"NA\"\nplayer2guess = \"NA\"\nplayer1response = \"NA\"\n\nbutton_pressed = False\n\n\n# Register virtual pin handlers\n@blynk.on(\"V0\")\ndef v0_read_handler():\n    player1guess = blynk.virtual_read(0)\n   \n@blynk.on(\"V1\")\ndef v1_read_handler():\n    player2response = blynk.virtual_read(1)\n   \n@blynk.on(\"V2\")\ndef v2_read_handler():\n    player2guess = blynk.virtual_read(2)\n   \n@blynk.on(\"V3\")\ndef v3_read_handler():\n    player1response = blynk.virtual_read(3)\n` + \"\\n\";\n};\n\n// Block __Battleship_Guess_Player1\nvar __Battleship_Guess_Player1_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Player1_Guess\"\n        }\n    ],\n    \"colour\": \"#333333\"\n};\n\nwindow['Blockly'].Blocks['__Battleship_Guess_Player1'] = {\n    init: function() {\n        this.jsonInit(__Battleship_Guess_Player1_json);\n    }\n};\n\nwindow['Blockly'].Python['__Battleship_Guess_Player1'] = function(block) {\n        return `# Will update Blynk every 1 Second\ndef updateBlynk():\n    global player1\n    global player2\n    global player1guess\n    global player2guess\n    global player1response\n    global player2response\n    blynk.virtual_write(0, player1guess)\n    blynk.virtual_write(3, player1response)\n\n# Create BlynkTimer Instance\ntimer = BlynkTimer()\ntimer.set_interval(1, updateBlynk)\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\n\n# declare the number of ships\nships1 = 6\nships2 = 6\nsinks1 = 0\nsinks2 = 0\n\n\ndef player2responseFunc():\n  if player2response == 'hit':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0x00ff00)\n     screen.clean_screen()\n     \n  elif player2response == 'miss':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0xff0000)\n     screen.clean_screen()\n     \n  elif player2response == 'sink':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0x0000ff)\n     screen.clean_screen()\n     sinks2 = sinks2 + 1\n \n# Display buttons for Player 1 to make their first guess\ndef player1guessFunc():\n    screen.clean_screen()\n    A = M5Btn(text='A', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    B = M5Btn(text='B', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    C = M5Btn(text='C', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    D = M5Btn(text='D', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    E = M5Btn(text='E', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    F = M5Btn(text='F', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n    def A_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A6\"\n       six.pressed(six_pressed)\n    A.pressed(A_pressed)\n\n    def B_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B6\"\n       six.pressed(six_pressed)\n    B.pressed(B_pressed)\n    \n    def C_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C6\"\n       six.pressed(six_pressed)\n    C.pressed(C_pressed)\n    \n    def D_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D6\"\n       six.pressed(six_pressed)\n    D.pressed(D_pressed)\n    \n    def E_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E6\"\n       six.pressed(six_pressed)\n    E.pressed(E_pressed)\n    \n    def F_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F6\"\n       six.pressed(six_pressed)\n    F.pressed(F_pressed)\n\ndef player1respFunc():\n    # display player 2 guess on the screen\n    screen.clean_screen()\n    lcd.print(player2guess)\n    hit = M5Btn(text='hit', x=18, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    miss = M5Btn(text='miss', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    sink = M5Btn(text='sink', x=220, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n    def hit_pressed():\n        global player1response\n        player1response = \"hit\"\n    hit.pressed(hit_pressed)\n\n    def sink_pressed():\n        global player1response\n        player1response = \"sink\"\n        global sinks1\n        sinks1 = sinks1 + 1\n        #need sd card to display image\n        # Open the image file\n        #with open('/sd/my_image.jpg', 'rb') as f:\n        #img_data = f.read()\n\n       # Display the image on the screen\n       #lcd.image(0, 0, img_data)\n       #wait(7)\n    sink.pressed(sink_pressed)\n\n    def miss_pressed():\n        global player1response\n        player1response = \"miss\"\n    miss.pressed(miss_pressed)\n    \ndef readyFunc():\n    screen.clean_screen()\n    ready = M5Btn(text='ready', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    global rpress\n    rpress = False\n    def ready_pressed():\n        global rpress\n        rpress = True\n    ready.pressed(ready_pressed)\n\nwhile sinks1 != ships1 and sinks2 != ships2:\n  player1guess = \"NA\"\n  player1guessFunc()\n  while player1guess == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(0, player1guess)\n  readyFunc()\n  while not rpress:\n    wait(1)\n    updateBlynk()\n  player1response = \"NA\"\n  player1respFunc()\n  while player1response == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(3, player1response)` + \"\\n\";\n};\n\n// Block __Battleship_Initialize_Player2\nvar __Battleship_Initialize_Player2_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Player2_Initialize\"\n        }\n    ],\n    \"colour\": \"#333333\"\n};\n\nwindow['Blockly'].Blocks['__Battleship_Initialize_Player2'] = {\n    init: function() {\n        this.jsonInit(__Battleship_Initialize_Player2_json);\n    }\n};\n\nwindow['Blockly'].Python['__Battleship_Initialize_Player2'] = function(block) {\n        return `# Player 2 Code\n\nfrom m5stack import *\nfrom m5stack_ui import *\nfrom uiflow import *\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\nimport M5BlynkLib\nfrom BlynkTimer import BlynkTimer\nimport network\nimport machine\n\nWIFI_SSID = 'ND-guest'\nWIFI_PASS = ''\n\n# BLYNK_AUTH = '5iI58SeUW5v5Ozlj5PqFwLJWccM1mmo3' # Katie's player 1\nBLYNK_AUTH = '9AiTTwD3YOoyakAF-rRt4JSGxzVm2Wgg' # Katie's player 2\n# BLYNK_AUTH = 'L1_427mM05GzJ-M4Hl_npXIT6iSJ59nT' # Brockmans\n#BLYNK_AUTH = '8imWFTlYhi8uGW1QbrJbRvTf5kQ973MU' # Alvins\n\n\nwifi = network.WLAN(network.STA_IF)\nif not wifi.isconnected():\n    lcd.println(\"Connecting to WiFi...\")\n    wifi.active(True)\n    wifi.connect(WIFI_SSID, WIFI_PASS)\n    while not wifi.isconnected():\n        pass\n\nlcd.print('IP:')\nlcd.println(wifi.ifconfig()[0])\n\n# define variables\nuptime = 0\nplayer1 = ''\nplayer2 = ''\nblynk = M5BlynkLib.Blynk(BLYNK_AUTH)\nplaying = True\n` + \"\\n\";\n};\n\n// Block __Battleship_Blynk_setup_Player2\nvar __Battleship_Blynk_setup_Player2_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Player2_Blynk_setup\"\n        }\n    ],\n    \"colour\": \"#333333\"\n};\n\nwindow['Blockly'].Blocks['__Battleship_Blynk_setup_Player2'] = {\n    init: function() {\n        this.jsonInit(__Battleship_Blynk_setup_Player2_json);\n    }\n};\n\nwindow['Blockly'].Python['__Battleship_Blynk_setup_Player2'] = function(block) {\n        return `# handling states\n@blynk.on(\"connected\")\ndef blynk_connected(ping):\n    pass\n \n@blynk.on(\"disconnected\")\ndef blynk_disconnected():\n    lcd.println('Blynk disconnected')\n\n\n# Make sure blynk channels are all reset\nblynk.virtual_write(0, \"NA\")\nblynk.virtual_write(1, \"NA\")\nblynk.virtual_write(2, \"NA\")\nblynk.virtual_write(3, \"NA\")\n\n# Initialize blynk channel variables\nplayer1guess = \"NA\"\nplayer2response = \"NA\"\nplayer2guess = \"NA\"\nplayer1response = \"NA\"\n\nbutton_pressed = False\n\n\n# Register virtual pin handlers\n@blynk.on(\"V0\")\ndef v0_read_handler():\n    player1guess = blynk.virtual_read(0)\n   \n@blynk.on(\"V1\")\ndef v1_read_handler():\n    player2response = blynk.virtual_read(1)\n   \n@blynk.on(\"V2\")\ndef v2_read_handler():\n    player2guess = blynk.virtual_read(2)\n   \n@blynk.on(\"V3\")\ndef v3_read_handler():\n    player1response = blynk.virtual_read(3)\n   ` + \"\\n\";\n};\n\n// Block __Battleship_Guess_Player2\nvar __Battleship_Guess_Player2_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"Player2_Guess\"\n        }\n    ],\n    \"colour\": \"#333333\"\n};\n\nwindow['Blockly'].Blocks['__Battleship_Guess_Player2'] = {\n    init: function() {\n        this.jsonInit(__Battleship_Guess_Player2_json);\n    }\n};\n\nwindow['Blockly'].Python['__Battleship_Guess_Player2'] = function(block) {\n        return `# Will update Blynk every 1 Second\ndef updateBlynk():\n    global player1\n    global player2\n    global player1guess\n    global player2guess\n    global player1response\n    global player2response\n    blynk.virtual_write(1, player2response)\n    blynk.virtual_write(2, player2guess)\n\n# Create BlynkTimer Instance\ntimer = BlynkTimer()\ntimer.set_interval(1, updateBlynk)\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\n\n# declare the number of ships\nships1 = 6\nships2 = 6\nsinks1 = 0\nsinks2 = 0\n\nlabel0 = M5Label(player1guess, x=119, y=105, color=0x000, font=FONT_MONT_14, parent=None)\n\n# Call this function when player 1 has entered a respond to player 2's guess\ndef player1responseFunc():\n  if player1response == 'hit':\n       screen.clean_screen()\n       screen.set_screen_bg_color(0x00ff00)\n       screen.clean_screen()\n       \n  elif player1response == 'miss':\n       screen.clean_screen()\n       screen.set_screen_bg_color(0xff0000)\n       screen.clean_screen()\n       \n  elif player1response == 'sink':\n       global sinks1\n       screen.clean_screen()\n       screen.set_screen_bg_color(0x0000ff)\n       screen.clean_screen()\n       sinks1 = sinks1 + 1\n\n\n# Function for continuing after player 2 has responded\ndef player2guessFunc():\n  screen.clean_screen()\n  # Display row position buttons\n  A = M5Btn(text='A', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  B = M5Btn(text='B', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  C = M5Btn(text='C', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  D = M5Btn(text='D', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  E = M5Btn(text='E', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  F = M5Btn(text='F', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  \n  def A_pressed():\n     \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n   \n   \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A6\"\n      \n     six.pressed(six_pressed)\n     \n  A.pressed(A_pressed)\n  \n  def B_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B6\"\n      \n     six.pressed(six_pressed)\n       \n  B.pressed(B_pressed)\n    \n  def C_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C6\"\n      \n     six.pressed(six_pressed)\n       \n  C.pressed(C_pressed)\n\n  def D_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D6\"\n      \n     six.pressed(six_pressed)\n       \n  D.pressed(D_pressed)\n\n  def E_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E6\"\n      \n     six.pressed(six_pressed)\n       \n  E.pressed(E_pressed)\n\n  def F_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F6\"\n      \n     six.pressed(six_pressed)\n       \n  F.pressed(F_pressed)\n\n\ndef player2respFunc():\n    #get and display player1guess on top of screen and offer hit, miss, sink options\n  screen.clean_screen()\n  lcd.print(str(player1guess), lcd.CENTER, lcd.CENTER)\n  hit = M5Btn(text='Hit', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  miss = M5Btn(text='Miss', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  sink = M5Btn(text='Sink', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  \n  # Update channel V1 when either hit, miss, or sink is pressed\n  def hit_pressed():\n    global player2response\n    player2response = \"hit\"\n  \n  hit.pressed(hit_pressed)\n  \n  def miss_pressed():\n    global player2response\n    player2response = \"miss\"\n  \n  miss.pressed(miss_pressed)\n  \n  def sink_pressed():\n    global player2response\n    player2response = \"sink\"\n    global sinks2\n    sinks2 = sinks2+1\n  \n  sink.pressed(sink_pressed)\n  \n\ndef readyFunc():\n    screen.clean_screen()\n    ready = M5Btn(text='ready', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    global rpress\n    rpress = False\n    def ready_pressed():\n        global rpress\n        rpress = True\n    ready.pressed(ready_pressed)\n\nwhile sinks1 != ships1 and sinks2 != ships2:\n  readyFunc()\n  while not rpress:\n    wait(1)\n    updateBlynk()\n  player2response = \"NA\"\n  player2respFunc()\n  while player2response == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(1, player2response)\n  player2guess = \"NA\"\n  player2guessFunc()\n  while player2guess == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(2, player2guess)` + \"\\n\";\n};\n\n","code":{"Initialize_Player1":["window['Blockly'].Python['__Battleship_Initialize_Player1'] = function(block) {\n        return `# Player 1 Code\n\nfrom m5stack import *\nfrom m5stack_ui import *\nfrom uiflow import *\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\nimport M5BlynkLib\nfrom BlynkTimer import BlynkTimer\nimport network\nimport machine\n\nWIFI_SSID = 'ND-guest'\nWIFI_PASS = ''\n\nBLYNK_AUTH = '5iI58SeUW5v5Ozlj5PqFwLJWccM1mmo3' # Katie's player 1\n# BLYNK_AUTH = '9AiTTwD3YOoyakAF-rRt4JSGxzVm2Wgg' # Katie's player 2\n# BLYNK_AUTH = 'L1_427mM05GzJ-M4Hl_npXIT6iSJ59nT' # Brockmans\n#BLYNK_AUTH = '8imWFTlYhi8uGW1QbrJbRvTf5kQ973MU' # Alvins\n\n\nwifi = network.WLAN(network.STA_IF)\nif not wifi.isconnected():\n    lcd.println(\"Connecting to WiFi...\")\n    wifi.active(True)\n    wifi.connect(WIFI_SSID, WIFI_PASS)\n    while not wifi.isconnected():\n        pass\n\nlcd.print('IP:')\nlcd.println(wifi.ifconfig()[0])\n\n# define variables\nuptime = 0\nplayer1 = ''\nplayer2 = ''\nblynk = M5BlynkLib.Blynk(BLYNK_AUTH)\nplaying = True` + \"\\n\";\n};\n\n","# Player 1 Code\n\nfrom m5stack import *\nfrom m5stack_ui import *\nfrom uiflow import *\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\nimport M5BlynkLib\nfrom BlynkTimer import BlynkTimer\nimport network\nimport machine\n\nWIFI_SSID = 'ND-guest'\nWIFI_PASS = ''\n\nBLYNK_AUTH = '5iI58SeUW5v5Ozlj5PqFwLJWccM1mmo3' # Katie's player 1\n# BLYNK_AUTH = '9AiTTwD3YOoyakAF-rRt4JSGxzVm2Wgg' # Katie's player 2\n# BLYNK_AUTH = 'L1_427mM05GzJ-M4Hl_npXIT6iSJ59nT' # Brockmans\n#BLYNK_AUTH = '8imWFTlYhi8uGW1QbrJbRvTf5kQ973MU' # Alvins\n\n\nwifi = network.WLAN(network.STA_IF)\nif not wifi.isconnected():\n    lcd.println(\"Connecting to WiFi...\")\n    wifi.active(True)\n    wifi.connect(WIFI_SSID, WIFI_PASS)\n    while not wifi.isconnected():\n        pass\n\nlcd.print('IP:')\nlcd.println(wifi.ifconfig()[0])\n\n# define variables\nuptime = 0\nplayer1 = ''\nplayer2 = ''\nblynk = M5BlynkLib.Blynk(BLYNK_AUTH)\nplaying = True"],"Blynk_setup_Player1":["window['Blockly'].Python['__Battleship_Blynk_setup_Player1'] = function(block) {\n        return `\n# handling states\n@blynk.on(\"connected\")\ndef blynk_connected(ping):\n    pass\n \n@blynk.on(\"disconnected\")\ndef blynk_disconnected():\n    lcd.println('Blynk disconnected')\n\n\n# Make sure blynk channels are all reset\nblynk.virtual_write(0, \"NA\")\nblynk.virtual_write(1, \"NA\")\nblynk.virtual_write(2, \"NA\")\nblynk.virtual_write(3, \"NA\")\n\n# Initialize blynk channel variables\nplayer1guess = \"NA\"\nplayer2response = \"NA\"\nplayer2guess = \"NA\"\nplayer1response = \"NA\"\n\nbutton_pressed = False\n\n\n# Register virtual pin handlers\n@blynk.on(\"V0\")\ndef v0_read_handler():\n    player1guess = blynk.virtual_read(0)\n   \n@blynk.on(\"V1\")\ndef v1_read_handler():\n    player2response = blynk.virtual_read(1)\n   \n@blynk.on(\"V2\")\ndef v2_read_handler():\n    player2guess = blynk.virtual_read(2)\n   \n@blynk.on(\"V3\")\ndef v3_read_handler():\n    player1response = blynk.virtual_read(3)\n` + \"\\n\";\n};\n\n","\n# handling states\n@blynk.on(\"connected\")\ndef blynk_connected(ping):\n    pass\n \n@blynk.on(\"disconnected\")\ndef blynk_disconnected():\n    lcd.println('Blynk disconnected')\n\n\n# Make sure blynk channels are all reset\nblynk.virtual_write(0, \"NA\")\nblynk.virtual_write(1, \"NA\")\nblynk.virtual_write(2, \"NA\")\nblynk.virtual_write(3, \"NA\")\n\n# Initialize blynk channel variables\nplayer1guess = \"NA\"\nplayer2response = \"NA\"\nplayer2guess = \"NA\"\nplayer1response = \"NA\"\n\nbutton_pressed = False\n\n\n# Register virtual pin handlers\n@blynk.on(\"V0\")\ndef v0_read_handler():\n    player1guess = blynk.virtual_read(0)\n   \n@blynk.on(\"V1\")\ndef v1_read_handler():\n    player2response = blynk.virtual_read(1)\n   \n@blynk.on(\"V2\")\ndef v2_read_handler():\n    player2guess = blynk.virtual_read(2)\n   \n@blynk.on(\"V3\")\ndef v3_read_handler():\n    player1response = blynk.virtual_read(3)\n"],"Guess_Player1":["window['Blockly'].Python['__Battleship_Guess_Player1'] = function(block) {\n        return `# Will update Blynk every 1 Second\ndef updateBlynk():\n    global player1\n    global player2\n    global player1guess\n    global player2guess\n    global player1response\n    global player2response\n    blynk.virtual_write(0, player1guess)\n    blynk.virtual_write(3, player1response)\n\n# Create BlynkTimer Instance\ntimer = BlynkTimer()\ntimer.set_interval(1, updateBlynk)\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\n\n# declare the number of ships\nships1 = 6\nships2 = 6\nsinks1 = 0\nsinks2 = 0\n\n\ndef player2responseFunc():\n  if player2response == 'hit':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0x00ff00)\n     screen.clean_screen()\n     \n  elif player2response == 'miss':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0xff0000)\n     screen.clean_screen()\n     \n  elif player2response == 'sink':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0x0000ff)\n     screen.clean_screen()\n     sinks2 = sinks2 + 1\n \n# Display buttons for Player 1 to make their first guess\ndef player1guessFunc():\n    screen.clean_screen()\n    A = M5Btn(text='A', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    B = M5Btn(text='B', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    C = M5Btn(text='C', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    D = M5Btn(text='D', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    E = M5Btn(text='E', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    F = M5Btn(text='F', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n    def A_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A6\"\n       six.pressed(six_pressed)\n    A.pressed(A_pressed)\n\n    def B_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B6\"\n       six.pressed(six_pressed)\n    B.pressed(B_pressed)\n    \n    def C_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C6\"\n       six.pressed(six_pressed)\n    C.pressed(C_pressed)\n    \n    def D_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D6\"\n       six.pressed(six_pressed)\n    D.pressed(D_pressed)\n    \n    def E_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E6\"\n       six.pressed(six_pressed)\n    E.pressed(E_pressed)\n    \n    def F_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F6\"\n       six.pressed(six_pressed)\n    F.pressed(F_pressed)\n\ndef player1respFunc():\n    # display player 2 guess on the screen\n    screen.clean_screen()\n    lcd.print(player2guess)\n    hit = M5Btn(text='hit', x=18, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    miss = M5Btn(text='miss', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    sink = M5Btn(text='sink', x=220, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n    def hit_pressed():\n        global player1response\n        player1response = \"hit\"\n    hit.pressed(hit_pressed)\n\n    def sink_pressed():\n        global player1response\n        player1response = \"sink\"\n        global sinks1\n        sinks1 = sinks1 + 1\n        #need sd card to display image\n        # Open the image file\n        #with open('/sd/my_image.jpg', 'rb') as f:\n        #img_data = f.read()\n\n       # Display the image on the screen\n       #lcd.image(0, 0, img_data)\n       #wait(7)\n    sink.pressed(sink_pressed)\n\n    def miss_pressed():\n        global player1response\n        player1response = \"miss\"\n    miss.pressed(miss_pressed)\n    \ndef readyFunc():\n    screen.clean_screen()\n    ready = M5Btn(text='ready', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    global rpress\n    rpress = False\n    def ready_pressed():\n        global rpress\n        rpress = True\n    ready.pressed(ready_pressed)\n\nwhile sinks1 != ships1 and sinks2 != ships2:\n  player1guess = \"NA\"\n  player1guessFunc()\n  while player1guess == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(0, player1guess)\n  readyFunc()\n  while not rpress:\n    wait(1)\n    updateBlynk()\n  player1response = \"NA\"\n  player1respFunc()\n  while player1response == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(3, player1response)` + \"\\n\";\n};\n\n","# Will update Blynk every 1 Second\ndef updateBlynk():\n    global player1\n    global player2\n    global player1guess\n    global player2guess\n    global player1response\n    global player2response\n    blynk.virtual_write(0, player1guess)\n    blynk.virtual_write(3, player1response)\n\n# Create BlynkTimer Instance\ntimer = BlynkTimer()\ntimer.set_interval(1, updateBlynk)\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\n\n# declare the number of ships\nships1 = 6\nships2 = 6\nsinks1 = 0\nsinks2 = 0\n\n\ndef player2responseFunc():\n  if player2response == 'hit':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0x00ff00)\n     screen.clean_screen()\n     \n  elif player2response == 'miss':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0xff0000)\n     screen.clean_screen()\n     \n  elif player2response == 'sink':\n     screen.clean_screen()\n     screen.set_screen_bg_color(0x0000ff)\n     screen.clean_screen()\n     sinks2 = sinks2 + 1\n \n# Display buttons for Player 1 to make their first guess\ndef player1guessFunc():\n    screen.clean_screen()\n    A = M5Btn(text='A', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    B = M5Btn(text='B', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    C = M5Btn(text='C', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    D = M5Btn(text='D', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    E = M5Btn(text='E', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    F = M5Btn(text='F', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n    def A_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"A6\"\n       six.pressed(six_pressed)\n    A.pressed(A_pressed)\n\n    def B_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"B6\"\n       six.pressed(six_pressed)\n    B.pressed(B_pressed)\n    \n    def C_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"C6\"\n       six.pressed(six_pressed)\n    C.pressed(C_pressed)\n    \n    def D_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"D6\"\n       six.pressed(six_pressed)\n    D.pressed(D_pressed)\n    \n    def E_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"E6\"\n       six.pressed(six_pressed)\n    E.pressed(E_pressed)\n    \n    def F_pressed():\n\n       screen.clean_screen()\n       wait(2)\n       one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n       six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n      #send selected variable to blynk\n      #display selected coordinate then wait while the screen below is shown on student B\n\n       def one_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F1\"\n       one.pressed(one_pressed)\n\n       def two_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F2\"\n       two.pressed(two_pressed)\n\n       def three_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F3\"\n       three.pressed(three_pressed)\n       \n       def four_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F4\"\n       four.pressed(four_pressed)\n       \n       def five_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F5\"\n       five.pressed(five_pressed)\n       \n       def six_pressed():\n         screen.set_screen_bg_color(0xffffff)\n         global player1guess\n         player1guess = \"F6\"\n       six.pressed(six_pressed)\n    F.pressed(F_pressed)\n\ndef player1respFunc():\n    # display player 2 guess on the screen\n    screen.clean_screen()\n    lcd.print(player2guess)\n    hit = M5Btn(text='hit', x=18, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    miss = M5Btn(text='miss', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    sink = M5Btn(text='sink', x=220, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n\n    def hit_pressed():\n        global player1response\n        player1response = \"hit\"\n    hit.pressed(hit_pressed)\n\n    def sink_pressed():\n        global player1response\n        player1response = \"sink\"\n        global sinks1\n        sinks1 = sinks1 + 1\n        #need sd card to display image\n        # Open the image file\n        #with open('/sd/my_image.jpg', 'rb') as f:\n        #img_data = f.read()\n\n       # Display the image on the screen\n       #lcd.image(0, 0, img_data)\n       #wait(7)\n    sink.pressed(sink_pressed)\n\n    def miss_pressed():\n        global player1response\n        player1response = \"miss\"\n    miss.pressed(miss_pressed)\n    \ndef readyFunc():\n    screen.clean_screen()\n    ready = M5Btn(text='ready', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    global rpress\n    rpress = False\n    def ready_pressed():\n        global rpress\n        rpress = True\n    ready.pressed(ready_pressed)\n\nwhile sinks1 != ships1 and sinks2 != ships2:\n  player1guess = \"NA\"\n  player1guessFunc()\n  while player1guess == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(0, player1guess)\n  readyFunc()\n  while not rpress:\n    wait(1)\n    updateBlynk()\n  player1response = \"NA\"\n  player1respFunc()\n  while player1response == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(3, player1response)"],"Initialize_Player2":["window['Blockly'].Python['__Battleship_Initialize_Player2'] = function(block) {\n        return `# Player 2 Code\n\nfrom m5stack import *\nfrom m5stack_ui import *\nfrom uiflow import *\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\nimport M5BlynkLib\nfrom BlynkTimer import BlynkTimer\nimport network\nimport machine\n\nWIFI_SSID = 'ND-guest'\nWIFI_PASS = ''\n\n# BLYNK_AUTH = '5iI58SeUW5v5Ozlj5PqFwLJWccM1mmo3' # Katie's player 1\nBLYNK_AUTH = '9AiTTwD3YOoyakAF-rRt4JSGxzVm2Wgg' # Katie's player 2\n# BLYNK_AUTH = 'L1_427mM05GzJ-M4Hl_npXIT6iSJ59nT' # Brockmans\n#BLYNK_AUTH = '8imWFTlYhi8uGW1QbrJbRvTf5kQ973MU' # Alvins\n\n\nwifi = network.WLAN(network.STA_IF)\nif not wifi.isconnected():\n    lcd.println(\"Connecting to WiFi...\")\n    wifi.active(True)\n    wifi.connect(WIFI_SSID, WIFI_PASS)\n    while not wifi.isconnected():\n        pass\n\nlcd.print('IP:')\nlcd.println(wifi.ifconfig()[0])\n\n# define variables\nuptime = 0\nplayer1 = ''\nplayer2 = ''\nblynk = M5BlynkLib.Blynk(BLYNK_AUTH)\nplaying = True\n` + \"\\n\";\n};\n\n","# Player 2 Code\n\nfrom m5stack import *\nfrom m5stack_ui import *\nfrom uiflow import *\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\nimport M5BlynkLib\nfrom BlynkTimer import BlynkTimer\nimport network\nimport machine\n\nWIFI_SSID = 'ND-guest'\nWIFI_PASS = ''\n\n# BLYNK_AUTH = '5iI58SeUW5v5Ozlj5PqFwLJWccM1mmo3' # Katie's player 1\nBLYNK_AUTH = '9AiTTwD3YOoyakAF-rRt4JSGxzVm2Wgg' # Katie's player 2\n# BLYNK_AUTH = 'L1_427mM05GzJ-M4Hl_npXIT6iSJ59nT' # Brockmans\n#BLYNK_AUTH = '8imWFTlYhi8uGW1QbrJbRvTf5kQ973MU' # Alvins\n\n\nwifi = network.WLAN(network.STA_IF)\nif not wifi.isconnected():\n    lcd.println(\"Connecting to WiFi...\")\n    wifi.active(True)\n    wifi.connect(WIFI_SSID, WIFI_PASS)\n    while not wifi.isconnected():\n        pass\n\nlcd.print('IP:')\nlcd.println(wifi.ifconfig()[0])\n\n# define variables\nuptime = 0\nplayer1 = ''\nplayer2 = ''\nblynk = M5BlynkLib.Blynk(BLYNK_AUTH)\nplaying = True\n"],"Blynk_setup_Player2":["window['Blockly'].Python['__Battleship_Blynk_setup_Player2'] = function(block) {\n        return `# handling states\n@blynk.on(\"connected\")\ndef blynk_connected(ping):\n    pass\n \n@blynk.on(\"disconnected\")\ndef blynk_disconnected():\n    lcd.println('Blynk disconnected')\n\n\n# Make sure blynk channels are all reset\nblynk.virtual_write(0, \"NA\")\nblynk.virtual_write(1, \"NA\")\nblynk.virtual_write(2, \"NA\")\nblynk.virtual_write(3, \"NA\")\n\n# Initialize blynk channel variables\nplayer1guess = \"NA\"\nplayer2response = \"NA\"\nplayer2guess = \"NA\"\nplayer1response = \"NA\"\n\nbutton_pressed = False\n\n\n# Register virtual pin handlers\n@blynk.on(\"V0\")\ndef v0_read_handler():\n    player1guess = blynk.virtual_read(0)\n   \n@blynk.on(\"V1\")\ndef v1_read_handler():\n    player2response = blynk.virtual_read(1)\n   \n@blynk.on(\"V2\")\ndef v2_read_handler():\n    player2guess = blynk.virtual_read(2)\n   \n@blynk.on(\"V3\")\ndef v3_read_handler():\n    player1response = blynk.virtual_read(3)\n   ` + \"\\n\";\n};\n\n","# handling states\n@blynk.on(\"connected\")\ndef blynk_connected(ping):\n    pass\n \n@blynk.on(\"disconnected\")\ndef blynk_disconnected():\n    lcd.println('Blynk disconnected')\n\n\n# Make sure blynk channels are all reset\nblynk.virtual_write(0, \"NA\")\nblynk.virtual_write(1, \"NA\")\nblynk.virtual_write(2, \"NA\")\nblynk.virtual_write(3, \"NA\")\n\n# Initialize blynk channel variables\nplayer1guess = \"NA\"\nplayer2response = \"NA\"\nplayer2guess = \"NA\"\nplayer1response = \"NA\"\n\nbutton_pressed = False\n\n\n# Register virtual pin handlers\n@blynk.on(\"V0\")\ndef v0_read_handler():\n    player1guess = blynk.virtual_read(0)\n   \n@blynk.on(\"V1\")\ndef v1_read_handler():\n    player2response = blynk.virtual_read(1)\n   \n@blynk.on(\"V2\")\ndef v2_read_handler():\n    player2guess = blynk.virtual_read(2)\n   \n@blynk.on(\"V3\")\ndef v3_read_handler():\n    player1response = blynk.virtual_read(3)\n   "],"Guess_Player2":["window['Blockly'].Python['__Battleship_Guess_Player2'] = function(block) {\n        return `# Will update Blynk every 1 Second\ndef updateBlynk():\n    global player1\n    global player2\n    global player1guess\n    global player2guess\n    global player1response\n    global player2response\n    blynk.virtual_write(1, player2response)\n    blynk.virtual_write(2, player2guess)\n\n# Create BlynkTimer Instance\ntimer = BlynkTimer()\ntimer.set_interval(1, updateBlynk)\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\n\n# declare the number of ships\nships1 = 6\nships2 = 6\nsinks1 = 0\nsinks2 = 0\n\nlabel0 = M5Label(player1guess, x=119, y=105, color=0x000, font=FONT_MONT_14, parent=None)\n\n# Call this function when player 1 has entered a respond to player 2's guess\ndef player1responseFunc():\n  if player1response == 'hit':\n       screen.clean_screen()\n       screen.set_screen_bg_color(0x00ff00)\n       screen.clean_screen()\n       \n  elif player1response == 'miss':\n       screen.clean_screen()\n       screen.set_screen_bg_color(0xff0000)\n       screen.clean_screen()\n       \n  elif player1response == 'sink':\n       global sinks1\n       screen.clean_screen()\n       screen.set_screen_bg_color(0x0000ff)\n       screen.clean_screen()\n       sinks1 = sinks1 + 1\n\n\n# Function for continuing after player 2 has responded\ndef player2guessFunc():\n  screen.clean_screen()\n  # Display row position buttons\n  A = M5Btn(text='A', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  B = M5Btn(text='B', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  C = M5Btn(text='C', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  D = M5Btn(text='D', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  E = M5Btn(text='E', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  F = M5Btn(text='F', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  \n  def A_pressed():\n     \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n   \n   \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A6\"\n      \n     six.pressed(six_pressed)\n     \n  A.pressed(A_pressed)\n  \n  def B_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B6\"\n      \n     six.pressed(six_pressed)\n       \n  B.pressed(B_pressed)\n    \n  def C_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C6\"\n      \n     six.pressed(six_pressed)\n       \n  C.pressed(C_pressed)\n\n  def D_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D6\"\n      \n     six.pressed(six_pressed)\n       \n  D.pressed(D_pressed)\n\n  def E_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E6\"\n      \n     six.pressed(six_pressed)\n       \n  E.pressed(E_pressed)\n\n  def F_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F6\"\n      \n     six.pressed(six_pressed)\n       \n  F.pressed(F_pressed)\n\n\ndef player2respFunc():\n    #get and display player1guess on top of screen and offer hit, miss, sink options\n  screen.clean_screen()\n  lcd.print(str(player1guess), lcd.CENTER, lcd.CENTER)\n  hit = M5Btn(text='Hit', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  miss = M5Btn(text='Miss', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  sink = M5Btn(text='Sink', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  \n  # Update channel V1 when either hit, miss, or sink is pressed\n  def hit_pressed():\n    global player2response\n    player2response = \"hit\"\n  \n  hit.pressed(hit_pressed)\n  \n  def miss_pressed():\n    global player2response\n    player2response = \"miss\"\n  \n  miss.pressed(miss_pressed)\n  \n  def sink_pressed():\n    global player2response\n    player2response = \"sink\"\n    global sinks2\n    sinks2 = sinks2+1\n  \n  sink.pressed(sink_pressed)\n  \n\ndef readyFunc():\n    screen.clean_screen()\n    ready = M5Btn(text='ready', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    global rpress\n    rpress = False\n    def ready_pressed():\n        global rpress\n        rpress = True\n    ready.pressed(ready_pressed)\n\nwhile sinks1 != ships1 and sinks2 != ships2:\n  readyFunc()\n  while not rpress:\n    wait(1)\n    updateBlynk()\n  player2response = \"NA\"\n  player2respFunc()\n  while player2response == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(1, player2response)\n  player2guess = \"NA\"\n  player2guessFunc()\n  while player2guess == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(2, player2guess)` + \"\\n\";\n};\n\n","# Will update Blynk every 1 Second\ndef updateBlynk():\n    global player1\n    global player2\n    global player1guess\n    global player2guess\n    global player1response\n    global player2response\n    blynk.virtual_write(1, player2response)\n    blynk.virtual_write(2, player2guess)\n\n# Create BlynkTimer Instance\ntimer = BlynkTimer()\ntimer.set_interval(1, updateBlynk)\n\nscreen = M5Screen()\nscreen.clean_screen()\nscreen.set_screen_bg_color(0xFFFFFF)\n\n\n# declare the number of ships\nships1 = 6\nships2 = 6\nsinks1 = 0\nsinks2 = 0\n\nlabel0 = M5Label(player1guess, x=119, y=105, color=0x000, font=FONT_MONT_14, parent=None)\n\n# Call this function when player 1 has entered a respond to player 2's guess\ndef player1responseFunc():\n  if player1response == 'hit':\n       screen.clean_screen()\n       screen.set_screen_bg_color(0x00ff00)\n       screen.clean_screen()\n       \n  elif player1response == 'miss':\n       screen.clean_screen()\n       screen.set_screen_bg_color(0xff0000)\n       screen.clean_screen()\n       \n  elif player1response == 'sink':\n       global sinks1\n       screen.clean_screen()\n       screen.set_screen_bg_color(0x0000ff)\n       screen.clean_screen()\n       sinks1 = sinks1 + 1\n\n\n# Function for continuing after player 2 has responded\ndef player2guessFunc():\n  screen.clean_screen()\n  # Display row position buttons\n  A = M5Btn(text='A', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  B = M5Btn(text='B', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  C = M5Btn(text='C', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  D = M5Btn(text='D', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  E = M5Btn(text='E', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  F = M5Btn(text='F', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  \n  def A_pressed():\n     \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n   \n   \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"A6\"\n      \n     six.pressed(six_pressed)\n     \n  A.pressed(A_pressed)\n  \n  def B_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"B6\"\n      \n     six.pressed(six_pressed)\n       \n  B.pressed(B_pressed)\n    \n  def C_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"C6\"\n      \n     six.pressed(six_pressed)\n       \n  C.pressed(C_pressed)\n\n  def D_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"D6\"\n      \n     six.pressed(six_pressed)\n       \n  D.pressed(D_pressed)\n\n  def E_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"E6\"\n      \n     six.pressed(six_pressed)\n       \n  E.pressed(E_pressed)\n\n  def F_pressed():\n       \n     screen.clean_screen()\n     wait(2)\n     one = M5Btn(text='1', x=18, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     two = M5Btn(text='2', x=118, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     three = M5Btn(text='3', x=220, y=15, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     four = M5Btn(text='4', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     five = M5Btn(text='5', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     six = M5Btn(text='6', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n     \n     \n     def one_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F1\"\n     \n     one.pressed(one_pressed)\n  \n     def two_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F2\"\n       \n     two.pressed(two_pressed)\n     \n     def three_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F3\"\n      \n     three.pressed(three_pressed)\n\n     def four_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F4\"\n      \n     four.pressed(four_pressed)\n     \n     def five_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F5\"\n      \n     five.pressed(five_pressed)\n     \n     def six_pressed():\n        screen.clean_screen()\n        global player2guess\n        player2guess = \"F6\"\n      \n     six.pressed(six_pressed)\n       \n  F.pressed(F_pressed)\n\n\ndef player2respFunc():\n    #get and display player1guess on top of screen and offer hit, miss, sink options\n  screen.clean_screen()\n  lcd.print(str(player1guess), lcd.CENTER, lcd.CENTER)\n  hit = M5Btn(text='Hit', x=18, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  miss = M5Btn(text='Miss', x=118, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  sink = M5Btn(text='Sink', x=220, y=138, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n  \n  # Update channel V1 when either hit, miss, or sink is pressed\n  def hit_pressed():\n    global player2response\n    player2response = \"hit\"\n  \n  hit.pressed(hit_pressed)\n  \n  def miss_pressed():\n    global player2response\n    player2response = \"miss\"\n  \n  miss.pressed(miss_pressed)\n  \n  def sink_pressed():\n    global player2response\n    player2response = \"sink\"\n    global sinks2\n    sinks2 = sinks2+1\n  \n  sink.pressed(sink_pressed)\n  \n\ndef readyFunc():\n    screen.clean_screen()\n    ready = M5Btn(text='ready', x=118, y=118, w=85, h=85, bg_c=0xFFFFFF, text_c=0x000000, font=FONT_MONT_14, parent=None)\n    global rpress\n    rpress = False\n    def ready_pressed():\n        global rpress\n        rpress = True\n    ready.pressed(ready_pressed)\n\nwhile sinks1 != ships1 and sinks2 != ships2:\n  readyFunc()\n  while not rpress:\n    wait(1)\n    updateBlynk()\n  player2response = \"NA\"\n  player2respFunc()\n  while player2response == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(1, player2response)\n  player2guess = \"NA\"\n  player2guessFunc()\n  while player2guess == \"NA\":\n    wait(1)\n    updateBlynk()\n  blynk.virtual_write(2, player2guess)"]}}